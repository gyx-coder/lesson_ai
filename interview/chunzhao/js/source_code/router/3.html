<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <nav id="nav">
    <ul>
      <li><a href="/page1">page1</a></li>
      <li><a href="/page2">page2</a></li>
      <li><a href="/page3">page3</a></li>
      <li><a href="/page4">page4</a></li>
      <li><a href="/page5">page5</a></li>
    </ul>
  </nav>
  <main>
    <div class="container"></div>
  </main>
  <script>
    // html5 history api
    class HistoryRouter{
      constructor(){
        this.routes={}
        this.listenLink()
      }
      listenLink(){
        // a 上一堆的监听性能不好
        // 冒泡 
        // 事件的委托 事件注册开销很大
        window.addEventListener('click',()=>{
          let dom = e.target // 事件对象
          if(dom.tagName.toUpperCase() === 'A'&&dom.getAttribute('href')){
            e.preventDefault()
            this.assign(dom.getAttribute('href'))
          }
        })
      }
      assign(path){
        // html5 history api url 改变，不会刷新页面
        window.history.pushState({path},null,path)
      }
    }
  </script>
</body>
</html>